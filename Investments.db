DROP SCHEMA IF EXISTS Investments;
CREATE SCHEMA IF NOT EXISTS Investments;

USE Investments;

CREATE TABLE Users (
  id INTEGER AUTO_INCREMENT PRIMARY KEY NOT NULL,
  username TEXT NOT NULL,
  password TEXT NOT NULL
);

CREATE TABLE Stocks (
  id INTEGER AUTO_INCREMENT PRIMARY KEY NOT NULL,
 --  name TEXT NOT NULL,
  quantity INTEGER,
  cost DECIMAL(5, 2) NOT NULL
  -- orderId INTEGER,
  -- FOREIGN KEY (orderId) REFERENCES Orders (id)
);

CREATE TABLE Orders (
  id INTEGER AUTO_INCREMENT PRIMARY KEY NOT NULL,
  userId INTEGER,
  stocksId INTEGER,
  quantity INTEGER,
  cost INTEGER,
  FOREIGN KEY (userId) REFERENCES Users (id),
  FOREIGN KEY (stocksId) REFERENCES Stocks (id)
);

SET SQL_SAFE_UPDATES = 0;

INSERT INTO
  Users (username, password)
VALUES
  ("xpto", "12345X");
  
INSERT INTO
  Users (username, password)
VALUES
  ("user1", "diamond");

INSERT INTO
  Users (username, password)
VALUES
  ("user2", "gold123");
  
INSERT INTO
  Stocks (quantity, cost)
VALUES
  (100, 350.00);

INSERT INTO
  Stocks (quantity, cost)
VALUES
  (100, 350.00);

INSERT INTO
  Stocks (quantity, cost)
VALUES
  (100, 350.00);
  
INSERT INTO
  Orders (userId, stocksId, quantity, cost)
VALUES
  (1, 3, 10, 350.00);

INSERT INTO
  Orders (userId, stocksId, quantity, cost)
VALUES
  (3, 2, 20, 350.00);
  
INSERT INTO
  Orders (userId, stocksId, quantity, cost)
VALUES
  (2, 1, 30, 350.00);
  
  SELECT * FROM Users;
  SELECT * FROM Stocks;
  SELECT * FROM Orders;
 
